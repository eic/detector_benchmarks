bench:materialscan:
  stage: benchmarks
  extends: .det_benchmark
  script:
    - echo ".x benchmarks/others/materialScan.cxx(-4.5, +4.5, 0.01, 750., 0.0)" | materialScan ${DETECTOR_PATH}/${JUGGLER_DETECTOR}.xml -interactive
    - mkdir results/images/
    - mv materialScan.png results/images/materialScan.png
    - mv materialScan.pdf results/images/materialScan.pdf

bench:materialscan:tracking:
  stage: benchmarks
  extends: .det_benchmark
  script:
    - echo ".x benchmarks/others/materialScan.cxx(-4.5, +4.5, 0.01, 750., 0.0, 103., 191., 350.)" | materialScan ${DETECTOR_PATH}/${JUGGLER_DETECTOR}.xml -interactive
    - mkdir results/images/
    - mv materialScan.png results/images/materialScanTracking.png
    - mv materialScan.pdf results/images/materialScanTracking.pdf

bench:materialscan:tof:
  stage: benchmarks
  extends: .det_benchmark
  script:
    - echo ".x benchmarks/others/materialScan.cxx(-4.5, +4.5, 0.01, 750., 0.0, 51., 120., 120.)" | materialScan ${DETECTOR_PATH}/${JUGGLER_DETECTOR}.xml -interactive
    - mkdir results/images/
    - mv materialScan.png results/images/materialScanNoTOF.png
    - mv materialScan.pdf results/images/materialScanNoTOF.pdf
    - echo ".x benchmarks/others/materialScan.cxx(-4.5, +4.5, 0.01, 750., 0.0, 58., 120., 120.)" | materialScan ${DETECTOR_PATH}/${JUGGLER_DETECTOR}.xml -interactive
    - mv materialScan.png results/images/materialScanTOF.png
    - mv materialScan.pdf results/images/materialScanTOF.pdf
    
bench:materialscan:tof_phi:
  stage: benchmarks
  extends: .det_benchmark
  script:
    - echo ".x benchmarks/others/materialScanPhi.cxx(-3.15, +3.15, 0.005, 750., 0.00001, 51., 120., 120.)" | materialScan ${DETECTOR_PATH}/${JUGGLER_DETECTOR}.xml -interactive
    - mkdir results/images/
    - ls
    - mv materialScanPhi.png results/images/materialScanPhi_NoTOF.png
    - mv materialScanPhi.pdf results/images/materialScanPhi_NoTOF.pdf
    - echo ".x benchmarks/others/materialScanPhi.cxx(-3.15, +3.15, 0.005, 750., 0.00001, 58., 120., 120.)" | materialScan ${DETECTOR_PATH}/${JUGGLER_DETECTOR}.xml -interactive
    - mv materialScanPhi.png results/images/materialScanPhi_TOF.png
    - mv materialScanPhi.pdf results/images/materialScanPhi_TOF.pdf


bench:materialscan:ecal:
  stage: benchmarks
  extends: .det_benchmark
  script:
    - echo ".x benchmarks/others/materialScan.cxx(-4.5, +4.5, 0.01, 750., 0.0, 230., 355., 380.)" | materialScan ${DETECTOR_PATH}/${JUGGLER_DETECTOR}.xml -interactive
    - mkdir results/images/
    - mv materialScan.png results/images/materialScanEcal.png
    - mv materialScan.pdf results/images/materialScanEcal.pdf

collect_results:materialscan:
  extends: .det_benchmark
  stage: collect
  needs:
    - ["bench:materialscan", "bench:materialscan:tracking"]
  script:
    - ls -lrht
